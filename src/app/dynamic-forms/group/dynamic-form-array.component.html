<div [ngClass]="{hidden: !dynamicFormArray.visible}">
    <div class="form-group">
        <ng-container *ngFor="let field of dynamicFormArray._elementsArray; let i=index">
            <div [formGroup]="fg.controls[i]">

                <div class="{{ field.cssClass }}" [formGroupName]="field.id">
                    <dynamic-form-element [fg]="fg.controls[i]" [element]="field"
                                          (elementEvent)="emitEvent($event, i)">

                    </dynamic-form-element>
                </div>
            </div>
        </ng-container>
    </div>
    <div class="form-group">
        <div class="col-xs-12 col-xs-offset-0 col-sm-offset-5" *ngIf="dynamicFormArray.maxAddLimit">
            <button class="btn btn-sm btn-primary" (click)="addNew()" [disabled]="maxLimitReached()">
                <i class="glyphicon glyphicon-plus"></i>
            </button>
        </div>
    </div>
</div>
